# MimtPy
MIami Multi Track tools in Python

# The functions of scripts:

mimtpyApp.py: generate files according to mimtpyApp.template 

track_offsets.py: estimating a constant offset as the median of the differences of the overlapping areas. After adjusting the adjacent tracks, concatenating the two tracks using average value in overlaying area.

H5UNW_to_geotiff.py: transferring *.unw or *.h5 file into geotiff file.

HDFEOS_to_geotiff.py: transferring S1**.he5 file into *.h5 and *.geotiff files based on given dataset name.

plot_geotiff.py: plot geotiff files with given *.shp files. Now the *.shp files are fault trace and reference point. The shp files must be given or people can use view.py script to draw picture based on the above *.h5 files

save_geodmod.py: generate files used by Geodmod software.

generate_script_RELAX_V2.py: generate template files for RELAX. People must given one example file.

# The Idea for mimtpyApp:

MimtpyApp works based on the S1***.he5, exclude_data.txt and inputs floder generated by Mintpy.

Now mimtpyApp.py have 5 functions:

function 1. velocity or cumulative function:

Call HDFEOS_to_geotiff.py script

Generate velocity or cumulative displacement based on give time period and given sptial range.

The default outname is "velocity_startdate_enddate" or "displacement_startdate_enddate". These names can not be changed because the following functions run based on these name.

function 2. plot function:

Call plot_geotiff.py

plot velocity or cumulative displacement based on the parameters setting in function 1

function 3. horz_vert function

Call reference_points.py-subset.py-asc_desc2horz_vert.py

Generate horz/vert *.h5 and *.tiff files

function 4. concatenation function

Call track_offset.py

Generate concatenated files (*.h5 and *.tiff) and slave track data (*.h5) after adjusting the offset.

function 5. geodmod function

Call save_geodmod.py 

Generate files for geodmod

# Folder structure:

function 1: mkdir velocity or displacement in $SCRATCHDIR/projectname/mintpy/

function 2: generate *.png in processed data folder

function 3 and function 4 generate data in the given folder. In the given dir, "velocity" or "displacement" folder will be make according to the data type they process. 

function 5: mkdir geodmod in $SCRATCHDIR/projectname/mintpy/"


For GBIS software: it is more convenient to using save_gbis.py in mintpy and velocity or displacement file generated by function 1. So mimtpyApp doesn't have the function about gbis.

# Access to mintpy data products
Browse through all directories using: https://129.114.104.223/data/HDF5EOS 

Get them via wget using:
```
wget -r -nH --cut-dirs=2 --no-parent --reject="index.html*" --no-check-certificate https://129.114.104.223/data/HDF5EOS/KashgarSenAT129/mintpy
```

If you have access to jetstream and added your public key in the .ssh directory, use rsync (which uses ssh):
```
rsync -avuz centos@129.114.104.223:/data/HDF5EOS/* $SCRATCHDIR
rsync -avuz centos@129.114.104.223:/data/HDF5EOS/TaalSenDT32 $SCRATCHDIR
```
